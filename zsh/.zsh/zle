# "-*- sh -*-"

autoload -U read-from-minibuffer

# asyd@asyd.net
regex-edit () {
   local REPLY words
   words=(${=BUFFER})
   read-from-minibuffer "Regexp:"
   if [ -n $REPLY ]; then
      BUFFER="$words[1] $(echo $words[2,${#words}] | sed ${REPLY})"
   fi
}

zle -N regex-edit

# Insère des quotes lorsqu'un url est collée, backslashe les "?"...
autoload -U url-quote-magic
zle -N self-insert url-quote-magic

# Permet d'editer la ligne de commande avec un editeur de texte
autoload -U edit-command-line
zle -N edit-command-line